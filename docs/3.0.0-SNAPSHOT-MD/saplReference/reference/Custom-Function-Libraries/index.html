

<!DOCTYPE html>

<html lang="en-US">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=Edge">

  <link rel="stylesheet" href="/assets/css/just-the-docs-default.css">

  <link rel="stylesheet" href="/assets/css/just-the-docs-head-nav.css" id="jtd-head-nav-stylesheet">

  <style id="jtd-nav-activation">
  

.site-nav > ul.nav-list:first-child > li > a,
.site-nav > ul.nav-list:first-child > li > ul > li > a,
.site-nav > ul.nav-list:first-child > li > ul > li > ul > li:not(:nth-child(1)) > a {
  background-image: none;
}

.site-nav > ul.nav-list:not(:first-child) a,
.site-nav li.external a {
  background-image: none;
}

.site-nav > ul.nav-list:first-child > li:nth-child(1) > ul > li:nth-child(12) > ul > li:nth-child(1) > a {
  font-weight: 600;
  text-decoration: none;
}.site-nav > ul.nav-list:first-child > li:nth-child(1) > button svg,
.site-nav > ul.nav-list:first-child > li:nth-child(1) > ul > li:nth-child(12) > button svg {
  transform: rotate(-90deg);
}.site-nav > ul.nav-list:first-child > li.nav-list-item:nth-child(1) > ul.nav-list,
.site-nav > ul.nav-list:first-child > li.nav-list-item:nth-child(1) > ul.nav-list > li.nav-list-item:nth-child(12) > ul.nav-list {
  display: block;
}
  </style>

  

  
    <script src="/assets/js/vendor/lunr.min.js"></script>
  

  <script src="/assets/js/just-the-docs.js"></script>

  <meta name="viewport" content="width=device-width, initial-scale=1">

  

  <link rel="icon" href="/assets/sapl_reference_images/favicon.png" type="image/x-icon">



  <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Custom Function Libraries | SAPL</title>
<meta name="generator" content="Jekyll v4.3.3" />
<meta property="og:title" content="Custom Function Libraries" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="SAPL is a powerful policy language and engine to implement Attribute-based access control (ABAC). It comes with developement tools for testing, authorization servers, authoring tools. Framework integrations are available for Spring, Axon, and Vaadin to provide flexible policy enforcement points (PEPs) in your application." />
<meta property="og:description" content="SAPL is a powerful policy language and engine to implement Attribute-based access control (ABAC). It comes with developement tools for testing, authorization servers, authoring tools. Framework integrations are available for Spring, Axon, and Vaadin to provide flexible policy enforcement points (PEPs) in your application." />
<link rel="canonical" href="/reference/Custom-Function-Libraries/" />
<meta property="og:url" content="/reference/Custom-Function-Libraries/" />
<meta property="og:site_name" content="SAPL" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Custom Function Libraries" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","description":"SAPL is a powerful policy language and engine to implement Attribute-based access control (ABAC). It comes with developement tools for testing, authorization servers, authoring tools. Framework integrations are available for Spring, Axon, and Vaadin to provide flexible policy enforcement points (PEPs) in your application.","headline":"Custom Function Libraries","url":"/reference/Custom-Function-Libraries/"}</script>
<!-- End Jekyll SEO tag -->


  <link rel="icon" href="/assets/sapl_reference_images/favicon.png" type="image/png">
<!-- Matomo -->
<script type="text/javascript">
    var _paq = window._paq || [];    
    _paq.push(["disableCookies"]);
    _paq.push(['trackPageView']);
    _paq.push(['enableLinkTracking']);
    (function() {
        var u="//www.ftk.de/statistik/";
        _paq.push(['setTrackerUrl', u+'matomo.php']);
        _paq.push(['setSiteId', '2']);
        var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
        g.type='text/javascript'; g.async=true; g.defer=true; g.src=u+'matomo.js'; s.parentNode.insertBefore(g,s);
    })();
</script>
<!-- End Matomo Code -->


</head>

<body>
  <a class="skip-to-main" href="#main-content">Skip to main content</a>
  <svg xmlns="http://www.w3.org/2000/svg" class="d-none">
  <symbol id="svg-link" viewBox="0 0 24 24">
  <title>Link</title>
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link">
    <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path>
  </svg>
</symbol>

  <symbol id="svg-menu" viewBox="0 0 24 24">
  <title>Menu</title>
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu">
    <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line>
  </svg>
</symbol>

  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
  <title>Expand</title>
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right">
    <polyline points="9 18 15 12 9 6"></polyline>
  </svg>
</symbol>

  <!-- Feather. MIT License: https://github.com/feathericons/feather/blob/master/LICENSE -->
<symbol id="svg-external-link" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-external-link">
  <title id="svg-external-link-title">(external link)</title>
  <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line>
</symbol>

  
    <symbol id="svg-doc" viewBox="0 0 24 24">
  <title>Document</title>
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file">
    <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline>
  </svg>
</symbol>

    <symbol id="svg-search" viewBox="0 0 24 24">
  <title>Search</title>
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search">
    <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line>
  </svg>
</symbol>

  
  
    <!-- Bootstrap Icons. MIT License: https://github.com/twbs/icons/blob/main/LICENSE.md -->
<symbol id="svg-copy" viewBox="0 0 16 16">
  <title>Copy</title>
  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard" viewBox="0 0 16 16">
    <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z"/>
    <path d="M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z"/>
  </svg>
</symbol>
<symbol id="svg-copied" viewBox="0 0 16 16">
  <title>Copied</title>
  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard-check-fill" viewBox="0 0 16 16">
    <path d="M6.5 0A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3Zm3 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3Z"/>
    <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1A2.5 2.5 0 0 1 9.5 5h-3A2.5 2.5 0 0 1 4 2.5v-1Zm6.854 7.354-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 0 1 .708-.708L7.5 10.793l2.646-2.647a.5.5 0 0 1 .708.708Z"/>
  </svg>
</symbol>

  
</svg>

  <div class="side-bar">
  <div class="site-header" role="banner">
    <a href="https://sapl.io/" class="site-title lh-tight">
  return to SAPL.io

</a>
    <button id="menu-button" class="site-button btn-reset" aria-label="Toggle menu" aria-pressed="false">
      <svg viewBox="0 0 24 24" class="icon" aria-hidden="true"><use xlink:href="#svg-menu"></use></svg>
    </button>
  </div>

  <nav aria-label="Main" id="site-nav" class="site-nav">
  
  
    <ul class="nav-list"><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in SAPL Reference category" aria-pressed="false">
      <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg>
    </button><a href="/" class="nav-list-link">SAPL Reference</a><ul class="nav-list"><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Introduction category" aria-pressed="false">
            <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg>
          </button><a href="/docs/SAPL_Reference/1_0_Introduction/" class="nav-list-link">Introduction</a><ul class="nav-list"><li class="nav-list-item">
                <a href="/reference/Authorization-Subscriptions/" class="nav-list-link">Authorization Subscriptions</a>
              </li><li class="nav-list-item">
                <a href="/reference/Structure-of-a-SAPL-Policy/" class="nav-list-link">Structure of a SAPL Policy</a>
              </li><li class="nav-list-item">
                <a href="/reference/Authorization-Decisions/" class="nav-list-link">Authorization Decisions</a>
              </li><li class="nav-list-item">
                <a href="/reference/Accessing-Attributes/" class="nav-list-link">Accessing Attributes</a>
              </li><li class="nav-list-item">
                <a href="/reference/Getting-Started/" class="nav-list-link">Getting Started</a>
              </li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Introduction category" aria-pressed="false">
            <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg>
          </button><a href="/docs/SAPL_Reference/1_1_Introduction/" class="nav-list-link">Introduction</a><ul class="nav-list"><li class="nav-list-item">
                <a href="/reference/Authorization-Subscriptions/" class="nav-list-link">Authorization Subscriptions</a>
              </li><li class="nav-list-item">
                <a href="/reference/Structure-of-a-SAPL-Policy/" class="nav-list-link">Structure of a SAPL Policy</a>
              </li><li class="nav-list-item">
                <a href="/reference/Authorization-Decisions/" class="nav-list-link">Authorization Decisions</a>
              </li><li class="nav-list-item">
                <a href="/reference/Accessing-Attributes/" class="nav-list-link">Accessing Attributes</a>
              </li><li class="nav-list-item">
                <a href="/reference/Getting-Started/" class="nav-list-link">Getting Started</a>
              </li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Architecture category" aria-pressed="false">
            <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg>
          </button><a href="/docs/SAPL_Reference/2_0_ReferenceArchitecture/" class="nav-list-link">Architecture</a><ul class="nav-list"></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Reference Architecture category" aria-pressed="false">
            <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg>
          </button><a href="/docs/SAPL_Reference/2_1_ReferenceArchitecture/" class="nav-list-link">Reference Architecture</a><ul class="nav-list"><li class="nav-list-item">
                <a href="/reference/pep/" class="nav-list-link">PEP</a>
              </li><li class="nav-list-item">
                <a href="/reference/pdp/" class="nav-list-link">PDP</a>
              </li><li class="nav-list-item">
                <a href="/reference/pap/" class="nav-list-link">PAP</a>
              </li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Publish/Subscribe category" aria-pressed="false">
            <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg>
          </button><a href="/docs/SAPL_Reference/3_0_PublishSubscribeProtocol/" class="nav-list-link">Publish/Subscribe</a><ul class="nav-list"></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Publish/Subscribe Protocol category" aria-pressed="false">
            <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg>
          </button><a href="/docs/SAPL_Reference/3_1_PublishSubscribeProtocol/" class="nav-list-link">Publish/Subscribe Protocol</a><ul class="nav-list"><li class="nav-list-item">
                <a href="/reference/SAPL-Authorization-Subscription/" class="nav-list-link">SAPL Authorization Subscription</a>
              </li><li class="nav-list-item">
                <a href="/reference/SAPL-Authorization-Decision/" class="nav-list-link">SAPL Authorization Decision</a>
              </li><li class="nav-list-item">
                <a href="/reference/Policy-Evaluation/" class="nav-list-link">Policy Evaluation</a>
              </li><li class="nav-list-item">
                <a href="/reference/Multi-Subscriptions/" class="nav-list-link">Multi Subscriptions</a>
              </li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in APIs category" aria-pressed="false">
            <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg>
          </button><a href="/docs/SAPL_Reference/4_0_PDPAPIs/" class="nav-list-link">APIs</a><ul class="nav-list"></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in PDP APIs category" aria-pressed="false">
            <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg>
          </button><a href="/docs/SAPL_Reference/4_1_PDPAPIs/" class="nav-list-link">PDP APIs</a><ul class="nav-list"><li class="nav-list-item">
                <a href="/reference/HTTP-Server-Sent-Events-API/" class="nav-list-link">HTTP Server-Sent Events API</a>
              </li><li class="nav-list-item">
                <a href="/reference/Java-API/" class="nav-list-link">Java API</a>
              </li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in The SAPL Policy Language category" aria-pressed="false">
            <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg>
          </button><a href="/docs/SAPL_Reference/5_0_TheSAPLPolicyLanguage/" class="nav-list-link">The SAPL Policy Language</a><ul class="nav-list"><li class="nav-list-item">
                <a href="/reference/The-SAPL-Policy-Language/" class="nav-list-link">The Policy Language</a>
              </li><li class="nav-list-item">
                <a href="/reference/Overview/" class="nav-list-link">Overview</a>
              </li><li class="nav-list-item">
                <a href="/reference/Overview/" class="nav-list-link">Overview</a>
              </li><li class="nav-list-item">
                <a href="/reference/Imports/" class="nav-list-link">Imports</a>
              </li><li class="nav-list-item">
                <a href="/reference/Imports/" class="nav-list-link">Imports</a>
              </li><li class="nav-list-item">
                <a href="/reference/Schemas/" class="nav-list-link">Schemas</a>
              </li><li class="nav-list-item">
                <a href="/reference/SAPL-Policy/" class="nav-list-link">SAPL Policy</a>
              </li><li class="nav-list-item">
                <a href="/reference/SAPL-Policy-Set/" class="nav-list-link">SAPL Policy Set</a>
              </li><li class="nav-list-item">
                <a href="/reference/Language-Elements/" class="nav-list-link">Language Elements</a>
              </li><li class="nav-list-item">
                <a href="/reference/SAPL-Expressions/" class="nav-list-link">SAPL Expressions</a>
              </li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Authorization Subscription Evaluation category" aria-pressed="false">
            <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg>
          </button><a href="/docs/SAPL_Reference/6_0_AuthorizationSubscriptionEvaluation/" class="nav-list-link">Authorization Subscription Evaluation</a><ul class="nav-list"><li class="nav-list-item">
                <a href="/reference/Policy/" class="nav-list-link">Policy</a>
              </li><li class="nav-list-item">
                <a href="/reference/Policy-Set/" class="nav-list-link">Policy Set</a>
              </li><li class="nav-list-item">
                <a href="/reference/Authorization-Subscription/" class="nav-list-link">Authorization Subscription</a>
              </li><li class="nav-list-item">
                <a href="/reference/Combining-Algorithm/" class="nav-list-link">Combining Algorithm</a>
              </li><li class="nav-list-item">
                <a href="/reference/Transformation/" class="nav-list-link">Transformation</a>
              </li><li class="nav-list-item">
                <a href="/reference/Obligation-Advice/" class="nav-list-link">Obligation / Advice</a>
              </li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Authorization Subscription Evaluation category" aria-pressed="false">
            <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg>
          </button><a href="/docs/SAPL_Reference/6_1_AuthorizationSubscriptionEvaluation/" class="nav-list-link">Authorization Subscription Evaluation</a><ul class="nav-list"><li class="nav-list-item">
                <a href="/reference/Policy/" class="nav-list-link">Policy</a>
              </li><li class="nav-list-item">
                <a href="/reference/Policy-Set/" class="nav-list-link">Policy Set</a>
              </li><li class="nav-list-item">
                <a href="/reference/Authorization-Subscription/" class="nav-list-link">Authorization Subscription</a>
              </li><li class="nav-list-item">
                <a href="/reference/Combining-Algorithm/" class="nav-list-link">Combining Algorithm</a>
              </li><li class="nav-list-item">
                <a href="/reference/Transformation/" class="nav-list-link">Transformation</a>
              </li><li class="nav-list-item">
                <a href="/reference/Obligation-Advice/" class="nav-list-link">Obligation / Advice</a>
              </li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Functions category" aria-pressed="false">
            <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg>
          </button><a href="/docs/SAPL_Reference/7_0_Functions/" class="nav-list-link">Functions</a><ul class="nav-list"><li class="nav-list-item">
                <a href="/reference/Custom-Function-Libraries/" class="nav-list-link">Custom Function Libraries</a>
              </li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Functions category" aria-pressed="false">
            <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg>
          </button><a href="/docs/SAPL_Reference/7_1_Functions/" class="nav-list-link">Functions</a><ul class="nav-list"><li class="nav-list-item">
                <a href="/reference/Custom-Function-Libraries/" class="nav-list-link">Custom Function Libraries</a>
              </li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Finders category" aria-pressed="false">
            <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg>
          </button><a href="/docs/SAPL_Reference/8_0_AttributeFinders/" class="nav-list-link">Finders</a><ul class="nav-list"></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Attribute Finders category" aria-pressed="false">
            <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg>
          </button><a href="/docs/SAPL_Reference/8_1_AttributeFinders/" class="nav-list-link">Attribute Finders</a><ul class="nav-list"><li class="nav-list-item">
                <a href="/reference/Custom-Attribute-Finders/" class="nav-list-link">Custom Attribute Finders</a>
              </li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Testing category" aria-pressed="false">
            <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg>
          </button><a href="/docs/SAPL_Reference/9_0_TestingSAPLpolicies/" class="nav-list-link">Testing</a><ul class="nav-list"></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Testing SAPL policies category" aria-pressed="false">
            <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg>
          </button><a href="/docs/SAPL_Reference/9_1_TestingSAPLpolicies/" class="nav-list-link">Testing SAPL policies</a><ul class="nav-list"><li class="nav-list-item">
                <a href="/reference/Usage-scenarios/" class="nav-list-link">Usage scenarios</a>
              </li><li class="nav-list-item">
                <a href="/reference/Embedded-PDP/" class="nav-list-link">Embedded PDP</a>
              </li><li class="nav-list-item">
                <a href="/reference/SAPL-Server/" class="nav-list-link">SAPL Server</a>
              </li><li class="nav-list-item">
                <a href="/reference/Unit-Tests/" class="nav-list-link">Unit-Tests</a>
              </li><li class="nav-list-item">
                <a href="/reference/Policy-Integration-Tests/" class="nav-list-link">Policy-Integration-Tests</a>
              </li><li class="nav-list-item">
                <a href="/reference/Writing-test-cases/" class="nav-list-link">Writing test cases</a>
              </li><li class="nav-list-item">
                <a href="/reference/Code-Coverage-Reports-via-the-SAPL-Maven-Plugin/" class="nav-list-link">Code Coverage Reports via the SAPL Maven Plugin</a>
              </li></ul></li></ul></li></ul>

  <ul class="nav-list"><li class="nav-list-item external">
          <a href="https://github.com/heutelbeck/sapl-policy-engine" class="nav-list-link external"
            
          >
            SAPL on GitHub
            <svg viewBox="0 0 24 24" aria-labelledby="svg-external-link-title"><use xlink:href="#svg-external-link"></use></svg>
          </a>
        </li></ul>
</nav>


  
  
    <br>

  
</div>

  <div class="main" id="top">
    <div id="main-header" class="main-header">
  
    

<div class="search" role="search">
  <div class="search-input-wrap">
    <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search SAPL" aria-label="Search SAPL" autocomplete="off">
    <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label>
  </div>
  <div id="search-results" class="search-results"></div>
</div>

  
  
  
    <nav aria-label="Auxiliary" class="aux-nav">
  <ul class="aux-nav-list">
    
      <li class="aux-nav-list-item">
        <a href="https://github.com/heutelbeck/sapl-policy-engine" class="site-button"
          
        >
          SAPL on GitHub
        </a>
      </li>
    
  </ul>
</nav>

  
</div>

    <div class="main-content-wrap">
      <nav aria-label="Breadcrumb" class="breadcrumb-nav">
  <ol class="breadcrumb-nav-list">
  
    <li class="breadcrumb-nav-list-item"><a href="/">SAPL Reference</a></li>
    <li class="breadcrumb-nav-list-item"><a href="/docs/SAPL_Reference/7_1_Functions/">Functions</a></li>
  <li class="breadcrumb-nav-list-item"><span>Custom Function Libraries</span></li>
  </ol>
</nav>
      <div id="main-content" class="main-content">
        <main>
          
            <h3 id="custom-function-libraries">
  
  
    <a href="#custom-function-libraries" class="anchor-heading" aria-labelledby="custom-function-libraries"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Custom Function Libraries
  
  
</h3>
    

<p>For a more in-depth look at the process of creating a custom function library, please refer to the demo project. It provides a walkthrough of the entire process and contains extensive examples: <a href="https://github.com/heutelbeck/sapl-demos/tree/master/sapl-demo-extension">https://github.com/heutelbeck/sapl-demos/tree/master/sapl-demo-extension</a> .</p>

<p>The standard functions can be extended by custom functions. Function libraries available in SAPL documents are collected in the PDP’s function context. The embedded PDP provides an <code class="language-plaintext highlighter-rouge">AnnotationFunctionContext</code> where Java classes with annotations can be provided as function libraries:</p>

<p>SAPL functions must not perform any IO operations. Functions are to be used as “immediate” data transformation functions.</p>

<ul>
  <li>
    <p>To be recognized as a function library, a class must be annotated with <code class="language-plaintext highlighter-rouge">@FunctionLibrary</code>. The optional annotation attribute <code class="language-plaintext highlighter-rouge">name</code> contains the library’s name as it will be available in SAPL policies. The attribute value must be a string consisting of one or more identifiers separated by periods. If the attribute is missing, the name of the Java class is used. The optional annotation attribute <code class="language-plaintext highlighter-rouge">description</code> contains a string describing the library for documentation purposes.</p>

    <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><div class="table-wrapper"><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre></td><td class="rouge-code"><pre><span class="nd">@FunctionLibrary</span><span class="o">(</span><span class="n">name</span> <span class="o">=</span> <span class="s">"sample.functions"</span><span class="o">,</span> <span class="n">description</span> <span class="o">=</span> <span class="s">"a sample library"</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">SampleFunctionLibrary</span> <span class="o">{</span>
    <span class="o">...</span>
<span class="o">}</span>
</pre></td></tr></tbody></table></div></code></pre></div>    </div>
  </li>
  <li>
    <p>The annotation <code class="language-plaintext highlighter-rouge">@Function</code> identifies a function in the library. An optional annotation attribute <code class="language-plaintext highlighter-rouge">name</code> can contain a function name. The attribute is a string containing an identifier. By default, the name of the Java function will be used. The annotation attribute <code class="language-plaintext highlighter-rouge">docs</code> can contain a string describing the function.</p>

    <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><div class="table-wrapper"><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre></td><td class="rouge-code"><pre><span class="nd">@Function</span><span class="o">(</span><span class="n">docs</span> <span class="o">=</span> <span class="s">"returns the length"</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">static</span> <span class="nc">Val</span> <span class="nf">length</span><span class="o">(</span><span class="nd">@Text</span> <span class="nc">Val</span> <span class="n">parameter</span><span class="o">)</span> <span class="o">{</span>
    <span class="o">...</span>
<span class="o">}</span>
</pre></td></tr></tbody></table></div></code></pre></div>    </div>

    <p>Each parameter can be annotated with any number of <code class="language-plaintext highlighter-rouge">@Array</code>, <code class="language-plaintext highlighter-rouge">@Bool</code>, <code class="language-plaintext highlighter-rouge">@Int</code>, <code class="language-plaintext highlighter-rouge">@JsonObject</code>, <code class="language-plaintext highlighter-rouge">@Long</code>, <code class="language-plaintext highlighter-rouge">@Number</code>, and <code class="language-plaintext highlighter-rouge">@Text</code>. The annotations describe which types are allowed for the parameter (in the case of multiple annotations, each of these types is allowed).</p>
  </li>
</ul>


          

          
        </main>
        

  <hr>
  <footer>
    
      <p><a href="#top" id="back-to-top">Back to top</a></p>
    

    <p class="text-small text-grey-dk-100 mb-0">Copyright &copy; 2024 Dominic Heutelbeck. Distributed by an <a href="https://github.com/heutelbeck/sapl-policy-engine/blob/master/LICENSE.md">License.</a></p>

    
      <div class="d-flex mt-2">
        
        
      </div>
    
  </footer>


      </div>
    </div>
    
      

<div class="search-overlay"></div>

    
  </div>

  
    






  <script src="https://cdn.jsdelivr.net/npm/mermaid@9.1.6/dist/mermaid.min.js"></script>


<script>
  var config = {}
;
  mermaid.initialize(config);
  window.mermaid.init(undefined, document.querySelectorAll('.language-mermaid'));
</script>



  
</body>
</html>

